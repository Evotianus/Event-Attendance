<!-- /*
* Template Name: Archiark
* Template Author: Untree.co
* Tempalte URI: https://untree.co/
* License: https://creativecommons.org/licenses/by/3.0/
*/ -->
<!doctype html>
<html lang="en">
<head>
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	
	<meta name="author" content="Untree.co">
	<link rel="shortcut icon" href="favicon.png">

	<meta name="description" content="" />
	<meta name="keywords" content="bootstrap, bootstrap5" />
	
	<link rel="preconnect" href="https://fonts.gstatic.com">
	<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto&display=swap" rel="stylesheet">

	<link rel="stylesheet" href="fonts/icomoon/style.css">
	<link rel="stylesheet" href="fonts/flaticon/font/flaticon.css">
	<link rel="stylesheet" href="css/tiny-slider.css">
	<link rel="stylesheet" href="css/aos.css">
	<link rel="stylesheet" href="css/glightbox.min.css">
	<link rel="stylesheet" href="css/style.css">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<script src="js/event-detail.js" defer></script>

	<title>Archiark &mdash; Free Bootstrap 5 Website Template by Untree.co</title>
</head>
<body>

	<div class="site-mobile-menu site-navbar-target">
		<div class="site-mobile-menu-header">
			<div class="site-mobile-menu-close">
				<span class="icofont-close js-menu-toggle"></span>
			</div>
		</div>
		<div class="site-mobile-menu-body"></div>
	</div>

	<nav class="site-nav bg-brand">
		<div class="container">
			<div class="site-navigation">
				<a href="index.html" class="logo m-0 float-start">Scanify<span class="text-primary">.</span> </a>

				<ul class="js-clone-nav d-none d-lg-inline-block text-start site-menu float-start">
					<li><a href="index.html">Home</a></li>
				</ul>

				<a href="#" class="burger ml-auto float-end site-menu-toggle light js-menu-toggle d-inline-block d-lg-none" data-toggle="collapse" data-target="#main-navbar">
					<span></span>
				</a>

			</div>
		</div>
	</nav>

	<div class="section sec-5">
		<div class="container">
			<div class="row mb-5">
				<div class="col-lg-6">
					<h2 class="heading"></h2>
				</div>
				<div class="col-lg-6 ms-auto">
					<p class="detail"></p>
				</div>
			</div>

			<div class="row g-4">
				<script src="https://cdnjs.cloudflare.com/ajax/libs/html5-qrcode/2.3.4/html5-qrcode.min.js" integrity="sha512-k/KAe4Yff9EUdYI5/IAHlwUswqeipP+Cp5qnrsUjTPCgl51La2/JhyyjNciztD7mWNKLSXci48m7cctATKfLlQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
                <style>
                    main {
                        display: flex;
                        justify-content: center;
                        align-items: center;
                    }

                    #reader {
                        width: 600px;
                    }

                    #result {
                        text-align: center;
                        font-size: 1.5rem;
						position: absolute;
                    }

					.notification-box {
						position: fixed;
						top: -70px;
						left: 50;
						padding: 10px 20px;
						margin-top: 20px;
						border: none;
						font-size: 18px;
						transition: all 0.2s;
						border-radius: 50px;
						z-index: 100;
					}
					
					.success {
						background-color: rgb(55, 224, 55);
						color: white;
					}
					
					.failed {
						background-color: red;
						color: white;
					}
                </style>

                <main>
                    <div id="reader"></div>
                    <div id="result"></div>
					<div class="success notification-box"><i class="fa fa-check"></i>&nbsp;&nbsp;&nbsp;Ticket Verified!</div>
					<div class="failed notification-box"><i class="fa fa-close"></i>&nbsp;&nbsp;&nbsp;Unverified Ticket!</div>
					<!-- <button class="example-button">Click Me!</button> -->
                </main>

				<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.5.0/axios.js" integrity="sha512-kFoMebJcPxdfDstjuwbbJN3q7hQ6O6npC9exDmbTR7HZZUC50s7DKl/MJSiukySAolVrcVmaLRHTmRjwnGCFow==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
                <script>
                    const scanner = new Html5QrcodeScanner('reader', {
                        qrbox: {
                            width: 250,
                            height: 250,
                        },
                        fps: 20,
                    });
					const successNotificationBox = document.querySelector(".success");
					const failedNotificationBox = document.querySelector(".failed");
                    
                    scanner.render(success, error);

					function notificationBox(condition) {
						if (condition) {
							successNotificationBox.style.top = 0;
						}
						else {
							failedNotificationBox.style.top = 0;
						}

						setTimeout(() => {
							successNotificationBox.style.top = "-100px";
							failedNotificationBox.style.top = "-100px";
						}, 5000);
					}
					
                    function success(result) {
						const eventCode = ["VFNDLTAwMQ==", "VFNDLTAwMg==", "VFNDLTAwMw==", "VFNDLTAwNA==", "VFNDLTAwNQ==", "VFNDLTAwNg==", "VFNDLTAwNw==", "VFNDLTAwOA==", "VFNDLTAwOQ==", "VFNDLTAxMA==", "VFNDLTAxMQ==", "VFNDLTAxMg==", "VFNDLTAxMw==", "VFNDLTAxNA==", "VFNDLTAxNQ=="]

						if (eventCode.includes(result)) {
							console.log("success");
							notificationBox(true);
							// <p><a href="${result}">${result}</a></p>
							// scanner.clear();
						} else {
							console.log("failed");
							notificationBox(false);
							// <p><a href="${result}">${result}</a></p>
							// scanner.clear();
						}
						// console.log(JSON.stringify({
						// 	"event_id": localStorage.getItem('event_id'),
						// 	"code": result,
						// }));

						// console.log(result);

						// const xhttp = new XMLHttpRequest();
						// const url = "http://localhost:8000/api/verify-event"
						// const data = JSON.stringify({
						// 	event_id: localStorage.getItem('event_id'),
						// 	code: result,
						// })
						// xhttp.open("POST", url, true)
						// xhttp.setRequestHeader('Content-type', 'application/json; charset=UTF-8')
						// xhttp.send(data)

						// xhttp.onreadystatechange = function() {
						// 	if(this.readyState == 4 && this.status == 200) {
						// 		console.log(xhttp.responseText)
						// 	}
						// }

						// axios.post('http://localhost:8000/api/verify-event/', {
						// 	event_id: localStorage.getItem('event_id'),
						// 	code: result,
						// }).then((response) => {
						// 	console.log("success");
						// 	document.getElementById('result').innerHTML = `
						// 	<h2>Success!</h2>
						// 	<p><a href="${result}">${result}</a></p>
						// 	`;
						// 	scanner.clear();
						// 	document.getElementById('reader').remove();
						// }).catch((error) => {
						// 	console.log("failed");
						// 	document.getElementById('result').innerHTML = `
						// 	<h2>Failed!</h2>
						// 	<p><a href="${result}">${result}</a></p>
						// 	`;
						// 	scanner.clear();
						// 	document.getElementById('reader').remove();
						// })
                    }

                    function error(err) {
                        console.error(err);
                    }

					// let btn = document.querySelector('.example-button')
					// btn.addEventListener('click', (e) => {
					// 	e.preventDefault();

					// 	axios.post('http://localhost:8000/api/verify-event/', {
					// 		event_id: localStorage.getItem('event_id'),
					// 		code: "VFNDLTAxNQ==",
					// 	}).then((response) => {
					// 		console.log("success");
					// 	}).catch((error) => {
					// 		console.log("failed");
					// 	});
					// })
                </script>
			</div>
		</div>
	</div>
	

	<div class="site-footer bg-light" style="background-color: #cae9ff !important;">
		<div class="container">

			<div class="row justify-content-between">
				<div class="col-lg-4">
					<div class="widget">
						<h3 class="line-top">About</h3>
						<p class="mb-5">Delectus voluptatum distinctio quos eius excepturi sunt pariatur, aut, doloribus officia ea molestias beatae laudantium, quam odio ipsum veritatis est maiores velit quasi blanditiis et natus accusamus itaque. Veniam quidem debitis odio amet voluptas distinctio dicta placeat! Et pariatur doloremque ea veniam. Separated they live.</p>

					</div>
					<div class="widget">
						<h3 class="line-top">Connect with us</h3>
						<ul class="social list-unstyled mb-5">
							<li><a href="#"><span class="icon-facebook"></span></a></li>
							<li><a href="#"><span class="icon-twitter"></span></a></li>
							<li><a href="#"><span class="icon-instagram"></span></a></li>
							<li><a href="#"><span class="icon-dribbble"></span></a></li>
							<li><a href="#"><span class="icon-linkedin"></span></a></li>
						</ul>
					</div>
				</div>
				<div class="col-lg-6">
					<div class="row">
						<div class="col-12">
							<div class="widget">
								<h3 class="line-top">Navigations</h3>
							</div>
						</div>
						<div class="col-6 col-sm-6 col-md-4">
							<div class="widget">
								<ul class="links list-unstyled">
									<li><a href="#">Home</a></li>
									<li><a href="#">Services</a></li>
									<li><a href="#">Work</a></li>
									<li><a href="#">Process</a></li>
									<li><a href="#">About Us</a></li>
								</ul>
							</div>
						</div>
						<div class="col-6 col-sm-6 col-md-4">
							<div class="widget">
								<ul class="links list-unstyled">
									<li><a href="#">Press</a></li>
									<li><a href="#">Blog</a></li>
									<li><a href="#">Contact</a></li>
									<li><a href="#">Support</a></li>
									<li><a href="#">Privacy</a></li>
								</ul>
							</div>
						</div>
						<div class="col-6 col-sm-6 col-md-4">
							<div class="widget">
								<ul class="links list-unstyled">
									<li><a href="#">Privacy</a></li>
									<li><a href="#">FAQ</a></li>
									<li><a href="#">Careers</a></li>
									<li><a href="#">Process</a></li>
									<li><a href="#">About Us</a></li>
								</ul>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="row justify-content-center text-center copyright">
				<div class="col-md-8">
					<p class="small text-black-50">Copyright &copy;<script>document.write(new Date().getFullYear());</script>. All Rights Reserved. &mdash; Designed with love by <a href="https://untree.co">Untree.co</a> </br>Distributed By <a href="https://themewagon.com/">Themewagon</a><!-- License information: https://untree.co/license/ -->
					</p>
				</div>
			</div>
		</div>
	</div>


	


	<!-- Preloader -->
	<div id="overlayer"></div>
	<div class="loader">
		<div class="spinner-border" role="status">
			<span class="visually-hidden">Loading...</span>
		</div>
	</div>

	<script src="js/bootstrap.bundle.min.js"></script>
	<script src="js/tiny-slider.js"></script>
	<script src="js/aos.js"></script>
	<script src="js/glightbox.min.js"></script>
	<script src="js/navbar.js"></script>
	<script src="js/counter.js"></script>
	<script src="js/custom.js"></script>
	<script src="https://kit.fontawesome.com/c084ee8667.js" crossorigin="anonymous"></script>
	<!-- bs4 -->
	<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
</body>
</html>
